<div *ngIf="transaction" class="transaction bg-light my-2 border-bottom" role="button" (click)="onEdit()">
  <div class="d-flex justify-content-between my-3">
    <div class="d-flex">
      <category-icon [categoryId]="category?.group"></category-icon>
      <div class="d-flex flex-column">
        <div class="small text-nowrap">
          <span *ngIf="!selectedAccount" class="fw-bold me-2">{{accountName|slice:0:15}}:</span>
          {{transaction.merchant||transaction.name}}
        </div>
        <div class="small text-muted fst-italic text-nowrap">
          {{(transaction.categoryId||"Uncategorized")|snakecase:'undo'|titlecase}}
        </div>
      </div>
    </div>
    <div class="d-flex flex-column align-items-end">
      <div>{{transaction.amount|currency}}</div>
      <div class="small text-muted">{{transaction.date|date}}</div>
    </div>
  </div>

  <div class="form bg-primary" [class.editing]="editing">
    <transaction-form [transaction]="transaction" [accounts]="accounts" [categories]="categories"
      (close)="onEndEdit()"></transaction-form>
  </div>
</div>